

       DEMO INSTRUCTIONS

The main demo scripts should be executed in the order they are
presented below unless otherwise specified. Please note that one
command must be allowed to finish, i.e., all windows it opens must
close and it must return the prompt, before another command is
executed.

clean      - Removes any previous demo directories.

info_files - Generates info files of the mix-servers and merges them,
             i.e., information exchange during the set-up phase is
             simulated as well. This demonstrates the use of
	     "vmni -prot ...", "vmni -party ...", and "vmni -merge ...".

keygen     - Executes the distributed key generation phase. The result
             is the joint public key of the mix-net. This demonstrates
	     the use of "vmn -keygen ...".

precomp    - Executes the pre-computation phase. This demonstrates the use
	     of "vmn -precomp ...".

gen_ciphs  - Generate demociphertexts of the messages "0000000",
             "00000001", "00000002", etc. May be executed before
             precomp. This is only used in the demonstrator, i.e., it does
	     not on its own demonstrate any functionality.

mix        - Execute the mixing phase. This demonstrates the use of
	     "vmn -mix ..."

verify     - Execute the standalone verifier of the non-interactive random
             oracle proofs. This is only possible if the mix-net is executed
             using such random oracle proofs. This demonstrates the use of
	     the vmnv command.

reset      - Reset the state of all mix-servers to their state after key
             generation. This demonstrates the use of "vmn -reset ...".

mixonly    - Execute only the mixing phase without decrypting.

deconly    - Execute only the decryption phase without mixing.

demo       - Executes the following commands in order with some additional
	     information.

	     ./clean
	     ./info_files
	     ./keygen
	     ./precomp  # Only executed if precomputation is used.
	     ./mix

	     The precomputation phase is avoided by setting
	     MAX_NO_CIPHERTEXTS to zero in the conf file.

You may choose the number of mix-servers, number of ciphertexts, etc
by editing the file named conf. It contains detailed information about
various options and examples. You can always restore the original conf
file using ./restore.

The final cleartexts appear in the individual directories of the
mix-servers in the file "plaintexts".


       TROUBLE SHOOTING

If you interrupt the demonstration, then there may be lingering
processes that prevent the demonstrators to listen to their ports. If
this happens you must manually kill the lingering processes.

If you are running your demo on the same machine as somebody else, you
need to manually specify the HTTPOFFSET and HINTOFFSET variables in
the conf file to avoid port conflicts.

By default, SETUP_ENV in the conf-script is initialized to
.mixnet_env, i.e., the script generated by Vfork when it
installs. If you set up your variables in some other way, you still
need a script that can be run by the demonstrator and you must update
SETUP_ENV accordingly.


       REMOTE DEMOS

The recommended way to set up a remote demonstration is to:

1) For each machine:

   a) Install the software (see the README file of the main directory
      as well as the information at www.mixnet.org).

   b) Run a local demonstration to make sure that your installation
      works properly.

   c) Run a remote demonstration, but on your local machine, to make
      sure that it works on a single machine, i.e., uncomment the
      lines starting with DEFAULT_USERNAME and DEFAULT_HOSTNAME and
      edit them appropriately.

   d) Make sure that you have set up password-less login with
      ssh. This can be done using Kerberos or key-based.

      You do not need password-less login inbetween each pair of
      servers. You only need directed password-less login from the
      machine from which the demonstration is orchestrated to each
      machine playing the role of a mix-server.

2) Test to login to each remote machine from the machine where you
   orchestrate, to make sure that your password-less login works.

3) Run the remote demonstration with small key sizes and a small
   number of ciphertexts. Then try larger parameters.

4) Note that if you run a remote demonstration, then clean will delete
   files remotely as well. It is wise to clean the demonstration
   directories *before* editing the conf-file.
